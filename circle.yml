machine:
  environment:
    PATH: "$HOME/miniconda/bin:${PATH}"

dependencies:
  pre:
    - curl -L --silent -o miniconda.sh https://repo.continuum.io/miniconda/Miniconda3-latest-Linux-x86_64.sh
    - bash miniconda.sh -b -p $HOME/miniconda
    - conda config --add channels conda-forge
    - conda config --set always_yes yes
    - conda update --quiet --all
    - conda install --quiet fastcache mpmath pytest pytest-pep8 pytest-flakes pytest-cache numpy scipy

test:
  override:
    - python3 -m pytest --strict -ra --veryquickcheck --pep8 --flakes --durations 10
    - python3 -m pytest --strict --lf --verbose
