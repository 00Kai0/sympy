Pickling of singletons with protocol less than 2
================================================

Note that when pickling a singleton (such as pi or e), the
object.__getnewargs__() method applies, and this method is only used for
protocol 2. Therefore when the singleton is pickled with protocol of less than
2 (i.e. 0 or 1), the singleton will lose its type as a singleton and instead
functions as a symbol of an similar but inexact value. This is important when
attempting to perform operations on the aforementioned singletons, because the
default protocol when pickling is 0, and a regular simplification will not
evaluate the result with sufficient accuracy.

For example:

>>> from sympy import sin, pi
>>> from pickle import loads, dumps

>>> picklepi = loads(dumps(pi))  # Uses default protocol 0

>>> sin(pi)
0
>>> sin(picklepi)
sin(pi)
>>> sin(picklepi).evalf()
.0e-184

>>> pi - picklepi
-pi + pi
>>> (pi-picklepi).evalf()
-.0e-125

>>> pi is picklepi
False


The optimal solution to this problem is to specify a protocol of 2 or higher
when pickling the singleton.

For example:

>>> picklepi = loads(dumps(pi,-1))   # Defaults to highest protocol, i.e. 2

>>> pi is picklepi
True

>>> sin(picklepi)
0

>>> picklepi - pi
0